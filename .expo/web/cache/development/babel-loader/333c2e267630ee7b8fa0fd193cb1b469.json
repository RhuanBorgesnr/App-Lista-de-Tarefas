{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\Ws\\\\Pdm\\\\Projeto\\\\App.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport AsyncStorage from '@react-native-community/async-storage';\nimport Icon from \"@expo/vector-icons/FontAwesome\";\nimport moment from 'moment';\nimport 'moment/locale/pt-br';\nimport Logo from \"./assets/imgs/logo.jpg\";\nimport estilosComuns from \"./estilosComuns\";\nimport Task from \"./components/Tarefa\";\nimport AddTask from \"./AdicionarTarefa\";\nvar estadoInicial = {\n  mostrarTarefasConcluidas: true,\n  mostrarAdicionarTarefa: false,\n  tarefasVisiveis: [],\n  tarefas: []\n};\n\nvar App = function (_Component) {\n  _inherits(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = _objectSpread({}, estadoInicial);\n\n    _this.componentDidMount = function _callee() {\n      var stateString, state;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('state'));\n\n            case 2:\n              stateString = _context.sent;\n              state = JSON.parse(stateString) || estadoInicial;\n\n              _this.setState(state, _this.filtrarTarefas);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.botaoMostarTarefasConcluidas = function () {\n      _this.setState({\n        mostrarTarefasConcluidas: !_this.state.mostrarTarefasConcluidas\n      }, _this.filtrarTarefas);\n    };\n\n    _this.filtrarTarefas = function () {\n      var tarefasVisiveis = null;\n\n      if (_this.state.mostrarTarefasConcluidas) {\n        tarefasVisiveis = _toConsumableArray(_this.state.tarefas);\n      } else {\n        var pendente = function pendente(tarefa) {\n          return tarefa.concluir === null;\n        };\n\n        tarefasVisiveis = _this.state.tarefas.filter(pendente);\n      }\n\n      _this.setState({\n        tarefasVisiveis: tarefasVisiveis\n      });\n\n      AsyncStorage.setItem('state', JSON.stringify(_this.state));\n    };\n\n    _this.botaoTarefa = function (tarefaId) {\n      var tarefas = _toConsumableArray(_this.state.tarefas);\n\n      tarefas.forEach(function (tarefa) {\n        if (tarefa.id === tarefaId) {\n          tarefa.concluir = tarefa.concluir ? null : new Date();\n        }\n      });\n\n      _this.setState({\n        tarefas: tarefas\n      }, _this.filtrarTarefas);\n    };\n\n    _this.adicionarTarefa = function (novaTarefa) {\n      if (!novaTarefa.descricao || !novaTarefa.descricao.trim()) {\n        Alert.alert('Dados Inválidos', 'Descrição não informada!');\n        return;\n      }\n\n      var tarefas = _toConsumableArray(_this.state.tarefas);\n\n      tarefas.push({\n        id: Math.random(),\n        descricao: novaTarefa.descricao,\n        data: novaTarefa.data\n      });\n\n      _this.setState({\n        tarefas: tarefas,\n        mostrarAdicionarTarefa: false\n      }, _this.filtrarTarefas);\n    };\n\n    _this.deletarTarefa = function (id) {\n      var tarefas = _this.state.tarefas.filter(function (tarefa) {\n        return tarefa.id !== id;\n      });\n\n      _this.setState({\n        tarefas: tarefas\n      }, _this.filtrarTarefas);\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var today = moment().locale('pt-br').format('dddd, D [de] MMMM');\n      return React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }\n      }, React.createElement(AddTask, {\n        visivel: this.state.mostrarAdicionarTarefa,\n        onCancel: function onCancel() {\n          return _this2.setState({\n            mostrarAdicionarTarefa: false\n          });\n        },\n        onSave: this.adicionarTarefa,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }\n      }), React.createElement(ImageBackground, {\n        source: Logo,\n        style: styles.background,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: styles.iconBar,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: this.botaoMostarTarefasConcluidas,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 25\n        }\n      }, React.createElement(Icon, {\n        name: this.state.mostrarTarefasConcluidas ? 'eye' : 'eye-slash',\n        size: 20,\n        color: estilosComuns.cores.secundario,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 29\n        }\n      }))), React.createElement(View, {\n        style: styles.titleBar,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: styles.title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 25\n        }\n      }, \"Lista de Tarefas\"), React.createElement(Text, {\n        style: styles.subtitle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }\n      }, today))), React.createElement(View, {\n        style: styles.taskList,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }\n      }, React.createElement(FlatList, {\n        data: this.state.tarefasVisiveis,\n        keyExtractor: function keyExtractor(item) {\n          return \"\" + item.id;\n        },\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          return React.createElement(Task, _extends({}, item, {\n            botaoTarefa: _this2.botaoTarefa,\n            onDelete: _this2.deletarTarefa,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 125\n            }\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }\n      })), React.createElement(TouchableOpacity, {\n        style: styles.addButton,\n        activeOpacity: 0.7,\n        onPress: function onPress() {\n          return _this2.setState({\n            mostrarAdicionarTarefa: true\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 17\n        }\n      }, React.createElement(Icon, {\n        name: \"plus\",\n        size: 20,\n        color: estilosComuns.cores.secundario,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport { App as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  background: {\n    flex: 3\n  },\n  taskList: {\n    flex: 7\n  },\n  titleBar: {\n    flex: 1,\n    justifyContent: 'flex-end'\n  },\n  title: {\n    color: estilosComuns.cores.secundario,\n    fontSize: 50,\n    marginLeft: 20,\n    marginBottom: 20\n  },\n  subtitle: {\n    color: estilosComuns.cores.secundario,\n    fontSize: 20,\n    marginLeft: 20,\n    marginBottom: 20\n  },\n  iconBar: {\n    flexDirection: 'row',\n    marginHorizontal: 20,\n    justifyContent: 'flex-end',\n    marginTop: Platform.OS === 'ios' ? 40 : 10\n  },\n  addButton: {\n    position: 'absolute',\n    right: 30,\n    bottom: 30,\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    backgroundColor: estilosComuns.cores.primario,\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});","map":{"version":3,"sources":["D:/Ws/Pdm/Projeto/App.js"],"names":["React","Component","AsyncStorage","Icon","moment","Logo","estilosComuns","Task","AddTask","estadoInicial","mostrarTarefasConcluidas","mostrarAdicionarTarefa","tarefasVisiveis","tarefas","App","state","componentDidMount","getItem","stateString","JSON","parse","setState","filtrarTarefas","botaoMostarTarefasConcluidas","pendente","tarefa","concluir","filter","setItem","stringify","botaoTarefa","tarefaId","forEach","id","Date","adicionarTarefa","novaTarefa","descricao","trim","Alert","alert","push","Math","random","data","deletarTarefa","today","locale","format","styles","container","background","iconBar","cores","secundario","titleBar","title","subtitle","taskList","item","addButton","StyleSheet","create","flex","justifyContent","color","fontSize","marginLeft","marginBottom","flexDirection","marginHorizontal","marginTop","Platform","OS","position","right","bottom","width","height","borderRadius","backgroundColor","primario","alignItems"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;;;;;;;;AAYA,OAAOC,YAAP,MAAyB,uCAAzB;AACA,OAAOC,IAAP;AAEA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAO,qBAAP;AAEA,OAAOC,IAAP;AACA,OAAOC,aAAP;AAEA,OAAOC,IAAP;AACA,OAAOC,OAAP;AAEA,IAAMC,aAAa,GAAG;AAClBC,EAAAA,wBAAwB,EAAE,IADR;AAElBC,EAAAA,sBAAsB,EAAE,KAFN;AAGlBC,EAAAA,eAAe,EAAE,EAHC;AAIlBC,EAAAA,OAAO,EAAE;AAJS,CAAtB;;IAOqBC,G;;;;;;;;;;;;;;;UACjBC,K,qBACON,a;;UAGPO,iB,GAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CACUd,YAAY,CAACe,OAAb,CAAqB,OAArB,CADV;;AAAA;AACVC,cAAAA,WADU;AAEVH,cAAAA,KAFU,GAEFI,IAAI,CAACC,KAAL,CAAWF,WAAX,KAA2BT,aAFzB;;AAGhB,oBAAKY,QAAL,CAAcN,KAAd,EAAqB,MAAKO,cAA1B;;AAHgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;UAMpBC,4B,GAA+B,YAAM;AACjC,YAAKF,QAAL,CAAc;AAAEX,QAAAA,wBAAwB,EAAE,CAAC,MAAKK,KAAL,CAAWL;AAAxC,OAAd,EAAkF,MAAKY,cAAvF;AACH,K;;UAEDA,c,GAAiB,YAAM;AACnB,UAAIV,eAAe,GAAG,IAAtB;;AACA,UAAG,MAAKG,KAAL,CAAWL,wBAAd,EAAwC;AACpCE,QAAAA,eAAe,sBAAO,MAAKG,KAAL,CAAWF,OAAlB,CAAf;AACH,OAFD,MAEO;AACH,YAAMW,QAAQ,GAAG,SAAXA,QAAW,CAASC,MAAT,EAAiB;AAC9B,iBAAOA,MAAM,CAACC,QAAP,KAAoB,IAA3B;AACH,SAFD;;AAGAd,QAAAA,eAAe,GAAG,MAAKG,KAAL,CAAWF,OAAX,CAAmBc,MAAnB,CAA0BH,QAA1B,CAAlB;AACH;;AAED,YAAKH,QAAL,CAAc;AAAET,QAAAA,eAAe,EAAfA;AAAF,OAAd;;AACAV,MAAAA,YAAY,CAAC0B,OAAb,CAAqB,OAArB,EAA8BT,IAAI,CAACU,SAAL,CAAe,MAAKd,KAApB,CAA9B;AACH,K;;UAEDe,W,GAAc,UAAAC,QAAQ,EAAI;AACtB,UAAMlB,OAAO,sBAAO,MAAKE,KAAL,CAAWF,OAAlB,CAAb;;AACAA,MAAAA,OAAO,CAACmB,OAAR,CAAgB,UAAAP,MAAM,EAAI;AACtB,YAAGA,MAAM,CAACQ,EAAP,KAAcF,QAAjB,EAA2B;AACvBN,UAAAA,MAAM,CAACC,QAAP,GAAkBD,MAAM,CAACC,QAAP,GAAkB,IAAlB,GAAyB,IAAIQ,IAAJ,EAA3C;AACH;AACJ,OAJD;;AAMA,YAAKb,QAAL,CAAc;AAAER,QAAAA,OAAO,EAAPA;AAAF,OAAd,EAA2B,MAAKS,cAAhC;AACH,K;;UAEDa,e,GAAkB,UAAAC,UAAU,EAAI;AAC5B,UAAG,CAACA,UAAU,CAACC,SAAZ,IAAyB,CAACD,UAAU,CAACC,SAAX,CAAqBC,IAArB,EAA7B,EAA0D;AACtDC,QAAAA,KAAK,CAACC,KAAN,CAAY,iBAAZ,EAA+B,0BAA/B;AACA;AACH;;AAED,UAAM3B,OAAO,sBAAO,MAAKE,KAAL,CAAWF,OAAlB,CAAb;;AACAA,MAAAA,OAAO,CAAC4B,IAAR,CAAa;AACTR,QAAAA,EAAE,EAAES,IAAI,CAACC,MAAL,EADK;AAETN,QAAAA,SAAS,EAAED,UAAU,CAACC,SAFb;AAGTO,QAAAA,IAAI,EAAER,UAAU,CAACQ;AAHR,OAAb;;AAMA,YAAKvB,QAAL,CAAc;AAAER,QAAAA,OAAO,EAAPA,OAAF;AAAWF,QAAAA,sBAAsB,EAAE;AAAnC,OAAd,EAA0D,MAAKW,cAA/D;AACH,K;;UAEDuB,a,GAAgB,UAAAZ,EAAE,EAAI;AAClB,UAAMpB,OAAO,GAAG,MAAKE,KAAL,CAAWF,OAAX,CAAmBc,MAAnB,CAA0B,UAAAF,MAAM;AAAA,eAAIA,MAAM,CAACQ,EAAP,KAAcA,EAAlB;AAAA,OAAhC,CAAhB;;AACA,YAAKZ,QAAL,CAAc;AAAER,QAAAA,OAAO,EAAPA;AAAF,OAAd,EAA2B,MAAKS,cAAhC;AACH,K;;;;;;;6BAEQ;AAAA;;AACL,UAAMwB,KAAK,GAAG1C,MAAM,GAAG2C,MAAT,CAAgB,OAAhB,EAAyBC,MAAzB,CAAgC,mBAAhC,CAAd;AACA,aACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEC,MAAM,CAACC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,OAAD;AAAS,QAAA,OAAO,EAAE,KAAKnC,KAAL,CAAWJ,sBAA7B;AAAqD,QAAA,QAAQ,EAAE;AAAA,iBAAM,MAAI,CAACU,QAAL,CAAc;AAAEV,YAAAA,sBAAsB,EAAE;AAA1B,WAAd,CAAN;AAAA,SAA/D;AAAuH,QAAA,MAAM,EAAE,KAAKwB,eAApI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI,oBAAC,eAAD;AAAiB,QAAA,MAAM,EAAE9B,IAAzB;AAA+B,QAAA,KAAK,EAAE4C,MAAM,CAACE,UAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEF,MAAM,CAACG,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,gBAAD;AAAkB,QAAA,OAAO,EAAE,KAAK7B,4BAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAE,KAAKR,KAAL,CAAWL,wBAAX,GAAsC,KAAtC,GAA8C,WAA1D;AAAuE,QAAA,IAAI,EAAE,EAA7E;AAAiF,QAAA,KAAK,EAAEJ,aAAa,CAAC+C,KAAd,CAAoBC,UAA5G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ,CADJ,EAMI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEL,MAAM,CAACM,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEN,MAAM,CAACO,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,EAEI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEP,MAAM,CAACQ,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA+BX,KAA/B,CAFJ,CANJ,CAFJ,EAaI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEG,MAAM,CAACS,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,QAAD;AAAU,QAAA,IAAI,EAAE,KAAK3C,KAAL,CAAWH,eAA3B;AAA4C,QAAA,YAAY,EAAE,sBAAA+C,IAAI;AAAA,sBAAOA,IAAI,CAAC1B,EAAZ;AAAA,SAA9D;AAAgF,QAAA,UAAU,EAAE;AAAA,cAAE0B,IAAF,QAAEA,IAAF;AAAA,iBAAY,oBAAC,IAAD,eAAUA,IAAV;AAAgB,YAAA,WAAW,EAAE,MAAI,CAAC7B,WAAlC;AAA+C,YAAA,QAAQ,EAAE,MAAI,CAACe,aAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAZ;AAAA,SAA5F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAbJ,EAgBI,oBAAC,gBAAD;AAAkB,QAAA,KAAK,EAAEI,MAAM,CAACW,SAAhC;AAA2C,QAAA,aAAa,EAAE,GAA1D;AAA+D,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACvC,QAAL,CAAc;AAAEV,YAAAA,sBAAsB,EAAE;AAA1B,WAAd,CAAN;AAAA,SAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAC,MAAX;AAAkB,QAAA,IAAI,EAAE,EAAxB;AAA4B,QAAA,KAAK,EAAEL,aAAa,CAAC+C,KAAd,CAAoBC,UAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAhBJ,CADJ;AAsBH;;;;EAtF4BrD,S;;SAAZa,G;AAyFrB,IAAMmC,MAAM,GAAGY,UAAU,CAACC,MAAX,CAAkB;AAC7BZ,EAAAA,SAAS,EAAE;AACPa,IAAAA,IAAI,EAAE;AADC,GADkB;AAI7BZ,EAAAA,UAAU,EAAE;AACRY,IAAAA,IAAI,EAAE;AADE,GAJiB;AAO7BL,EAAAA,QAAQ,EAAE;AACNK,IAAAA,IAAI,EAAE;AADA,GAPmB;AAU7BR,EAAAA,QAAQ,EAAE;AACNQ,IAAAA,IAAI,EAAE,CADA;AAENC,IAAAA,cAAc,EAAE;AAFV,GAVmB;AAc7BR,EAAAA,KAAK,EAAE;AACHS,IAAAA,KAAK,EAAE3D,aAAa,CAAC+C,KAAd,CAAoBC,UADxB;AAEHY,IAAAA,QAAQ,EAAE,EAFP;AAGHC,IAAAA,UAAU,EAAE,EAHT;AAIHC,IAAAA,YAAY,EAAE;AAJX,GAdsB;AAoB7BX,EAAAA,QAAQ,EAAE;AACNQ,IAAAA,KAAK,EAAE3D,aAAa,CAAC+C,KAAd,CAAoBC,UADrB;AAENY,IAAAA,QAAQ,EAAE,EAFJ;AAGNC,IAAAA,UAAU,EAAE,EAHN;AAINC,IAAAA,YAAY,EAAE;AAJR,GApBmB;AA0B7BhB,EAAAA,OAAO,EAAE;AACLiB,IAAAA,aAAa,EAAE,KADV;AAELC,IAAAA,gBAAgB,EAAE,EAFb;AAGLN,IAAAA,cAAc,EAAE,UAHX;AAILO,IAAAA,SAAS,EAAEC,QAAQ,CAACC,EAAT,KAAgB,KAAhB,GAAwB,EAAxB,GAA6B;AAJnC,GA1BoB;AAgC7Bb,EAAAA,SAAS,EAAE;AACPc,IAAAA,QAAQ,EAAE,UADH;AAEPC,IAAAA,KAAK,EAAE,EAFA;AAGPC,IAAAA,MAAM,EAAE,EAHD;AAIPC,IAAAA,KAAK,EAAE,EAJA;AAKPC,IAAAA,MAAM,EAAE,EALD;AAMPC,IAAAA,YAAY,EAAE,EANP;AAOPC,IAAAA,eAAe,EAAE1E,aAAa,CAAC+C,KAAd,CAAoB4B,QAP9B;AAQPjB,IAAAA,cAAc,EAAE,QART;AASPkB,IAAAA,UAAU,EAAE;AATL;AAhCkB,CAAlB,CAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport { \r\n    Text,\r\n    View, \r\n    ImageBackground, \r\n    StyleSheet, \r\n    FlatList, \r\n    TouchableOpacity, \r\n    Platform, \r\n    Alert\r\n} from 'react-native'\r\n\r\nimport AsyncStorage from '@react-native-community/async-storage'\r\nimport Icon from 'react-native-vector-icons/FontAwesome'\r\n\r\nimport moment from 'moment'\r\nimport 'moment/locale/pt-br'\r\n\r\nimport Logo from './assets/imgs/logo.jpg'\r\nimport estilosComuns from './estilosComuns'\r\n\r\nimport Task from './components/Tarefa'\r\nimport AddTask from './AdicionarTarefa'\r\n\r\nconst estadoInicial = { \r\n    mostrarTarefasConcluidas: true,\r\n    mostrarAdicionarTarefa: false,\r\n    tarefasVisiveis: [],\r\n    tarefas: []    \r\n}\r\n\r\nexport default class App extends Component {\r\n    state = { \r\n        ...estadoInicial\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        const stateString = await AsyncStorage.getItem('state')\r\n        const state = JSON.parse(stateString) || estadoInicial\r\n        this.setState(state, this.filtrarTarefas)\r\n    }\r\n\r\n    botaoMostarTarefasConcluidas = () => {\r\n        this.setState({ mostrarTarefasConcluidas: !this.state.mostrarTarefasConcluidas }, this.filtrarTarefas)\r\n    }\r\n\r\n    filtrarTarefas = () => {\r\n        let tarefasVisiveis = null\r\n        if(this.state.mostrarTarefasConcluidas) {\r\n            tarefasVisiveis = [...this.state.tarefas]\r\n        } else {\r\n            const pendente = function(tarefa) {\r\n                return tarefa.concluir === null\r\n            }\r\n            tarefasVisiveis = this.state.tarefas.filter(pendente)\r\n        }\r\n\r\n        this.setState({ tarefasVisiveis })\r\n        AsyncStorage.setItem('state', JSON.stringify(this.state))\r\n    }\r\n\r\n    botaoTarefa = tarefaId => {\r\n        const tarefas = [...this.state.tarefas]\r\n        tarefas.forEach(tarefa => {\r\n            if(tarefa.id === tarefaId) {\r\n                tarefa.concluir = tarefa.concluir ? null : new Date()\r\n            }\r\n        })\r\n\r\n        this.setState({ tarefas }, this.filtrarTarefas)\r\n    }\r\n\r\n    adicionarTarefa = novaTarefa => {\r\n        if(!novaTarefa.descricao || !novaTarefa.descricao.trim()) {\r\n            Alert.alert('Dados Inválidos', 'Descrição não informada!')\r\n            return\r\n        }\r\n\r\n        const tarefas = [...this.state.tarefas]\r\n        tarefas.push({\r\n            id: Math.random(),\r\n            descricao: novaTarefa.descricao,\r\n            data: novaTarefa.data\r\n        })\r\n\r\n        this.setState({ tarefas, mostrarAdicionarTarefa: false }, this.filtrarTarefas)\r\n    }\r\n\r\n    deletarTarefa = id => {\r\n        const tarefas = this.state.tarefas.filter(tarefa => tarefa.id !== id)\r\n        this.setState({ tarefas }, this.filtrarTarefas)\r\n    }\r\n\r\n    render() {\r\n        const today = moment().locale('pt-br').format('dddd, D [de] MMMM')\r\n        return (\r\n            <View style={styles.container}>\r\n                <AddTask visivel={this.state.mostrarAdicionarTarefa} onCancel={() => this.setState({ mostrarAdicionarTarefa: false })} onSave={this.adicionarTarefa} />\r\n                <ImageBackground source={Logo} style={styles.background} >\r\n                    <View style={styles.iconBar}>\r\n                        <TouchableOpacity onPress={this.botaoMostarTarefasConcluidas}>\r\n                            <Icon name={this.state.mostrarTarefasConcluidas ? 'eye' : 'eye-slash'} size={20} color={estilosComuns.cores.secundario} />\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                    <View style={styles.titleBar}>\r\n                        <Text style={styles.title}>Lista de Tarefas</Text>\r\n                        <Text style={styles.subtitle}>{today}</Text>\r\n                    </View>\r\n                </ImageBackground>\r\n                <View style={styles.taskList}>\r\n                    <FlatList data={this.state.tarefasVisiveis} keyExtractor={item => `${item.id}`} renderItem={({item}) => <Task {...item} botaoTarefa={this.botaoTarefa} onDelete={this.deletarTarefa} />} />\r\n                </View>\r\n                <TouchableOpacity style={styles.addButton} activeOpacity={0.7} onPress={() => this.setState({ mostrarAdicionarTarefa: true })}>\r\n                    <Icon name=\"plus\" size={20} color={estilosComuns.cores.secundario} />\r\n                </TouchableOpacity>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n    },\r\n    background: {\r\n        flex: 3,\r\n    },\r\n    taskList: {\r\n        flex: 7\r\n    },\r\n    titleBar: {\r\n        flex: 1,\r\n        justifyContent: 'flex-end'\r\n    },\r\n    title: {\r\n        color: estilosComuns.cores.secundario,\r\n        fontSize: 50,\r\n        marginLeft: 20,\r\n        marginBottom: 20\r\n    },\r\n    subtitle: {\r\n        color: estilosComuns.cores.secundario,\r\n        fontSize: 20,\r\n        marginLeft: 20,\r\n        marginBottom: 20\r\n    },\r\n    iconBar: {\r\n        flexDirection: 'row',\r\n        marginHorizontal: 20,\r\n        justifyContent: 'flex-end',\r\n        marginTop: Platform.OS === 'ios' ? 40 : 10\r\n    },\r\n    addButton: {\r\n        position: 'absolute',\r\n        right: 30,\r\n        bottom: 30,\r\n        width: 50,\r\n        height: 50,\r\n        borderRadius: 25,\r\n        backgroundColor: estilosComuns.cores.primario,\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}